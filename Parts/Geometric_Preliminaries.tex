\section{Geometric Preliminaries}
\label{sec:Geometric_Preliminaries}

This chapter is aimed at giving an introduction to the geometric setting of Quantum Field Theory. While trying to be as self-contained as possible, we will have to assume that the reader is fluent in basic Differential Geometry. While there are many excellent textbooks on Differential Geometry, the textbook by Lee \source{Diffgeo_Intro} offers a highly self-contained take on the topic. Note that in the following, the notion of fibre- and vector-bundles will be especially crucial. For an insightful treatment of the matter and a more compact introduction to Differential Geometry, see Will Merry's website \source{Diffgeo_Merry}.\\

The main sources for this section will be \textbf{Renormalisation and Effective Field Theory} by K. Costello \source{Costello} and \textbf{Quantum Fields and Strings:  A Course for Mathematicians} by various authors \source{QFStrings}.\\

We will further make use of excerpts from \textbf{Introduction to Supergeometry} by A.S. Cattaneo and F. Schaetz \source{IntroSusy}, chapter $2.1$ of \textbf{Algebraic Geometry} by R. Hartshorne \source{AlgebraicGeometry}, chapters $5.2$, $5.3$ and $6.1$ of \textbf{Modern differential geometry for physicists} by C.J. Isham \source{ModernDiffgeo} and chapter $2$ of A. Hatcher's \textbf{Algebraic Topology} \source{AlgebraicTopology}. Note that most of these texts are available online, respective links are provided in the References.

\subsection{The Graded Setting}

In the following section we will generalize the notion of Differential Geometry to a graded setting. To this end we start with the preliminary definitions of a graded structure and discuss some interesting examples.

\begin{definition} (Graded Vector Space)\\
  A \textbf{graded vector space} $V^\bullet$ is a collection $\{ V^k \}_{k\in\ZZ}$ of vector spaces. The \textit{realisation} of $V^\bullet$ is the direct sum
  \begin{equation}V^\bullet = \bigoplus_{k\in\ZZ} V^k .\end{equation}
\end{definition}

To extend the notion of graded vector spaces to a category, we need morphisms between them:

\begin{definition} (Graded Morphisms)\\
 Let $V^\bullet, W^\bullet$ be graded vector spaces.  A \textbf{graded morphism} $\phi: V^\bullet \ra W^\bullet$ is  a collection of linear maps $\phi^k: V^k \ra W^k$ \ $\forall k \in \ZZ$. We extend this notion to that of a graded morphism of \textbf{degree $r$} by requiring that $\phi^k: V^k \ra W^{k+r}\ \forall k \in \ZZ$. In the case $V^\bullet = W^\bullet$ we call $\phi$ a \textbf{graded endomorphism} (of degree $r$, respectively). The category $\mathsf{gVect}$ of graded vector spaces has objects graded vector spaces and morphisms graded morphisms.
\end{definition}

Given $V^\bullet$ we call $v\in V^k$ an homogeneous element of degree $|v|\coloneqq k$.

\begin{example}~
  \begin{itemize}
    \item The most common examples of graded vector spaces emerge from the tensor product. The $k$-fold tensor product of a vector space $V$ denoted by $V^{\otimes k}$, the $k$-fold exterior algebra of $V$ denoted by $\bigwedge^k V$ and the space of differential $k$-forms on a smooth manifold $M$ denoted by $\Omega^k(M)$ each generate a graded vector space, graded by polynomial degree, denoted by $T^\bullet(V)$, $\bigwedge^\bullet V$ and $\Omega^\bullet(M)$ respectively.

    \item For the space of differential forms on a smooth manifold $M$ given by $\Omega^\bullet(M)$ we can define a  graded morphism of degree $1$ given by the \emph{de Rham differential} $d\colon \Omega^k(M) \ra \Omega^{k+1}(M)$.

    \item The \emph{contraction} of a differential form by a vector field defines another graded morphism on the space of differential forms $\Omega^\bullet(M)$. For $X \in \VF(M)$ we define
     \begin{align}
       \imath_X : \Omega^k(M)\quad &\lra \quad\Omega^{k-1}(M),\\
       \omega\quad  &\lmap \quad \imath_X\omega = \omega (X, \cdot, \dots, \cdot).
     \end{align}
    The contraction is a graded morphism of degree $-1$.

    \item Given $X \in \VF(M)$ the \emph{Lie Derivative} $\lie{X}$ defines, by Cartan's magic formula, a graded morphism of degree $0$ by
      \begin{align}
        \lie{X} : \Omega^k(M)\quad &\lra \quad\Omega^{k}(M),\\
        \omega\quad  &\lmap \quad \lie{X}\omega := \imath_X \circ d\omega + d \circ \imath_X\omega
      \end{align}

    \item Given two graded vector spaces $V^\bullet, W^\bullet$ we obtain another graded vector space through the set of graded morphisms
    \begin{equation}\Hom^\bullet(V^\bullet, W^\bullet) := \bigoplus_{k\in\ZZ} \Hom^k(V^\bullet, W^\bullet), \end{equation}
    where $\Hom^k$ denotes degree-$k$ maps.

     \item Given a graded vector space $V^\bullet$ we define the dual graded vector space $(V^*)^\bullet$ via the collection $(V^*)_i=(V_{-i})^*$.\footnote{Note that in the case where $V^\bullet=T^\bullet(W)$ where $W$ is a classical vector space, $(V^*)_i$  becomes trivally zero for positive indices.}
  \end{itemize}
\end{example}

Due to their importance for the forthcoming discussion, we classify certain special cases of graded endomorphisms.

\begin{definition}
  Let $\phi$ be a graded endomorphism such that $\phi \circ \phi = 0$. We call $\phi$ a \textbf{boundary operator}, if $\phi$ is of degree $-1$. If $\phi$ is of degree $+1$, we call it a \textbf{coboundary operator}. A graded vector space $V^\bullet$ together with a coboundary operator is called a \textbf{complex}, or \textbf{cochain complex}. If it is equipped with a boundary operator, we call it a \textbf{cocomplex}, or \textbf{chain complex}.
\end{definition}

A very important example for a cochain complex is $\Omega^\bullet(M)$ equipped with the \emph{de Rham differential} used for \emph{de Rham cohomology}. To define further structure on graded vector spaces, we turn to algebraic relations defined on its realisation.

\begin{definition} (Graded Algebra)\\
  A \textbf{graded algebra} is a graded vector space $A^\bullet$ together with a collection of bilinear maps called the \emph{product} on $A^\bullet$
  \begin{equation}A^k \times A^l \ra A^{k+l}, \quad \quad (a,b) \mapsto ab \quad  \forall k,l \in \ZZ\end{equation}
  \begin{itemize}
    \item $A^\bullet$ is \textbf{associative}, if
    \begin{equation}(ab)c = a(bc) \quad \forall a,b,c \in A^\bullet \end{equation}

    \item $A^\bullet$ is \textbf{graded commutative}, if
    \begin{equation}ab = (-1)^{kl}\ ba \quad \forall a \in A^k, \ b\in A^l \end{equation}

    \item $A^\bullet$ is \textbf{graded skew-commutative}, if
    \begin{equation}ab = (-1)^{kl+1}\ ba \quad \forall a \in A^k, \ b\in A^l \end{equation}
  \end{itemize}
\end{definition}

\begin{example}~
\begin{itemize}
  \item The tensor algebra $T^\bullet(V)$ of a graded vector space $V^\bullet$ is a graded algebra with its product given by the tensor product $\otimes$. Note that this makes $T^\bullet(V)$ an associative graded algebra.

  \item The two spaces $(\bigwedge^\bullet V, \wedge)$, with $V$ an ordinary vector space, and $(\Omega^\bullet(M), \wedge)$, with $M$ a smooth manifold, are associative commutative graded algebras as can be readily deduced from the definition of the wedge-product.

  \item Given a graded vector space $V^\bullet$ we can take the graded vector space of endomorphisms $\End^\bullet(V^\bullet)$  and elevate it to an associative graded algebra. To this end, we define the product of two endomorphisms $\phi \in \End^r(V^\bullet)$ and $\psi \in \End^s(V^\bullet)$ as the graded endomorphism given by the collection of linear maps
  \begin{equation}\phi \psi : \phi^{k+s}\psi^k: V^k \ra V^{k+r+s}\quad \forall k\in \ZZ \end{equation}
  resulting in a new graded endomorphism of degree $(r+s)$. It is left as an easy exercise to prove that this does indeed define an associative graded algebra on $\End^\bullet(V^\bullet)$.

  \item The \emph{graded symmetric algebra} $S^\bullet(V)$ over a graded vector space $V^\bullet$ is the quotient of the tensor algebra $T^\bullet(V)$ by the ideal generated by all elements of the form
  \begin{equation}v\tens{}w - (-1)^{|v||w|} w \tens{}v \quad \forall v,w \in V^\bullet \end{equation}
  This graded algebra is graded commutative with respect to the tensor product, the proof is left as an exercise.

 \item The \emph{algebra of polynomial functions} on $V^\bullet$ is the graded symmetric algebra $S^\bullet((V^*)^\bullet)$ over $(V^*)^\bullet$. This notion will be particularly useful when talking about graded manifolds later in the course.
\end{itemize}
\end{example}

Extending the notion of vector subspaces and closed subspaces of algebras, so-called subalgebras, we go on to define the respective notions in the graded context:

\begin{definition}
  A \textbf{graded subspace} $W^\bullet \subset V^\bullet$ of a graded vector space $V^\bullet$ is a collection of subspaces $\{ W^k \}_{k\in\ZZ}$ such that $W^k \subset V^k \quad \forall k \in \ZZ$.\\
  A \textbf{graded subalgebra} is a graded subspace that is closed under the product.
\end{definition}

We go on to further classify certain graded morphisms by restricting to those satisfying an adapted \emph{Leibniz Rule}. The idea is to generalize the notion of a derivation on an algebra, which is required to satisfy the classical \emph{Leibniz Rule}, to general graded algebras. This will provide us with an excellent example of a graded subalgebra:

\begin{definition} (Graded Derivations)\\
  Let $V^\bullet$ be a graded algebra. A \textbf{graded derivation} of degree $n$ is a graded endomorphism $\DD$ of degree $n$ that satisfies the \textbf{graded Leibniz rule}
  \begin{equation}\DD (ab) = \DD(a) \ b + (-1)^{rn} \ a \ \DD(b) \quad \quad \forall a \in V^r, \ b \in V^s \end{equation}
  %Notice that thus $\DD(ab) \in V^{n+r+s}$. \begin{mdframed}This is not applied by the Leibniz formula, but we say from the start that $\DD$ is degree $n$.\end{mdframed}
\end{definition}

The following examples inspired the above general definition:

\begin{example}~
  \begin{itemize}
    \item The \emph{de Rham differential} $d$ is a graded derivation of degree $+1$
    \item The \emph{contraction} $\imath_X$ is a graded derivation of degree $-1$
    \item The \emph{Lie Derivative} $\lie{X}$ is a graded derivation of degree $0$
  \end{itemize}
\end{example}

On a graded algebra $A^\bullet$ the set of graded derivations $\Der^\bullet(A^\bullet)$ is a subspace of $\End^\bullet(A^\bullet)$ in the sense that $\Der^k(A^\bullet) \subset \End^k(A^\bullet)$.%, \sout{turns out to be a subalgebra of $\End^\bullet$. The proof is again left as an exercise to the reader.}

\begin{rem}
  Derivations \emph{do not} form a subalgebra of endomorphisms, although they do form a graded Lie subalgebra. This is analogous to the fact that if $X$ and $Y$ are vector fields on a manifold, $XY$ or $YX$ (their compositions as derivations on the algebra of functions) are \emph{not} vector fields, but $[X,Y]=XY-YX$ \emph{is}.
\end{rem}

Combining the different classifications for graded endomorphisms, we go on to define yet another utterly important subspecies:

\begin{definition}
  A \textbf{differential} is a coboundary operator that is also a graded derivation. A \textbf{codifferential} is a boundary operator that is a graded derivation.
\end{definition}

%\begin{mdframed}I find this a terrible deviation from standard terminology. Normally, one would define a differential to be simply a degree-$1$ endomorphism that squares to zero. No reference to any algebra structure. Although most differentials on graded algebras in practice do happen to be derivations... \end{mdframed}

The \emph{de Rham differential} is a differential in the sense of the above definition. We consider a graded \emph{Lie Algebra}. The definition is easily anticipated from that of a usual Lie algebra

\begin{definition} (Graded Lie Algebra)\\
  For simplicity, let us assume that the base field has characteristic zero. A \textbf{graded Lie algebra} is a graded algebra $\mathfrak{g}^\bullet$ whose product, $[-,-]\colon \mathfrak{g}^\bullet\times\mathfrak{g}^\bullet\rightarrow\mathfrak{g}^\bullet$ is graded skew-commutative and satisfies the graded Jacobi-Identity, i.e.
  \begin{equation}
  (-1)^{|a||c|}[a,[b,c]]+(-1)^{|a||b|}[b,[a,c]]+(-1)^{|b||c|}[c,[a,b]]=0.
  \end{equation}
\end{definition}

As usual we provide some insightful examples to support the understanding of the above definition:

\begin{example}~
\begin{itemize}
  \item Take $(A^\bullet, [\cdot , \cdot ])$ such that $A^\bullet$ is a graded associative algebra. We define for $a \in A^k,b \in A^l$:
  \begin{equation}[a,b] := ab-(-1)^{kl} \ ba\end{equation}This constitutes a graded Lie algebra as can be checked through tedious calculation.

  \item The set $(\End^\bullet(V^\bullet), [\cdot,\cdot])$ with the bracket defined as in the previous example is a graded Lie algebra seeing $\End^\bullet(V^\bullet)$ as a graded associative algebra with composition as its product.
\end{itemize}
\end{example}

\begin{rem}
  We note that if both $a,b \in A^\bullet$ are odd, the bracket as defined in the above examples turns out to be the anticommutator
  \begin{equation}[a,b] = ab+ba \end{equation}
  Thus, if $a$ is odd, we obtain $[a,a] = 2a^2 \neq 0$.
\end{rem}

\begin{definition}
  A \textbf{graded Lie subalgebra} is a graded subalgebra of a graded Lie algebra.
\end{definition}

An example for a graded Lie subalgebra would be the space of Derivations as a subset of the space of endomorphisms, namely $\Der^\bullet(A^\bullet) \subset \End^\bullet(A^\bullet)$.

\begin{rem}
  In all of our previous discussion, we used $\ZZ$ as the set that defines our graded setting. Now if we would like to generalize the graded setting ideas to more general spaces, we need some extra work:\\

  Take a set $G$. We define a $G$-graded vector space $\{V^k\}_{k \in G}$. But in order to define further notions like that of graded morphisms etc. we previously used the specific structure of $\ZZ$ and thus need to generalize the required properties:
  \begin{itemize}
    \item We require a composition law $G \times G \ra G$ to define graded morphisms.
    \item If we want to define graded associated algebras, $G$ has to be a group (or a monoid) such that the order of composition does not matter.
    \item $G$ has to be abelian (or a commutative monoid), if we want to define graded commutative algebras.
  \end{itemize}
  So far we did everything on $\ZZ$. Taking $\ZZ / 2\ZZ$ as the underlying set, we obtain the notion of \emph{super-linear algebra}. To prove the above claims is an insightful and interesting exercise! We will only need $\ZZ$- and $\ZZ/\ZZ 2$-gradings.
\end{rem}

After this small detour, we continue to define further structure in our graded setting. Next, we go back to $\ZZ$-grading and discuss the so-called \emph{Cartan Calculus} using $d$ and $\imath$.

\begin{prop}
  The span over $\RR$ of the set
  \begin{equation}{d, \imath_X, \lie{X}: X \in \VF(M)} \end{equation}
  is a graded Lie subalgebra of $\Der^\bullet(\Omega^\bullet(M))$. Moreover it satisfies the following algebraic properties with regard to the usual bracket as defined before:
  \begin{multicols}{3}
    \begin{itemize}
      \item[(1)] $[d,d] = 0$
      \item[(4)] $[\imath_X, \imath_Y] = 0$
      \item[(2)] $[d, \imath_X] = \lie{X}$
      \item[(5)] $[\imath_X, \lie{Y}] = \imath_{[X,Y]}$
      \item[(3)] $[d, \lie{X}] = 0$
      \item[(6)] $[\lie{X}, \lie{Y}] = \lie{[X,Y]}$
    \end{itemize}
\end{multicols}
  \begin{proof}
    We only need to prove the claims for functions and exact $1$-forms as all of the above are local operators. First we note that $[d,d]=0$ simply due to $d \circ d = 0$. For the second identity we note that for functions
    \begin{equation}\lie{X}(f) = X(f) = \imath_X df = [\imath_X, d]f \end{equation}
    Now for exact $1$-forms we obtain
    \begin{equation}[d, \imath_X] df = d\circ \imath_X df = d \circ \lie{X}f = \lie{X} df \end{equation}
    Now the third claim is again easily obtained using the Cartan-Magic-Formula and the graded Jacobi-Identity:
    \begin{equation}[d, \lie{X}] = [d,[d,\imath_X]] = [[d,d],\imath_X] - [d,[d,\imath_X]] = - [d, \lie{X}]\end{equation}
    Thus it trivialy becomes $0$. For the fourth identity we note $[\imath_X, \imath_Y] = \imath_X \imath_Y + \imath_Y \imath_X$. Now if we define $I_{XY} := [\imath_X, \imath_Y]$, we can apply to the wedge product of two forms to obtain
    \begin{equation}I_{XY} (\alpha \wedge \beta) = (I_{XY}\alpha) \wedge \beta +  \alpha \wedge (I_{XY}\beta) \end{equation}
    Thus $I_{XY}$ is defined by its action on 1-forms, for which we see $I_{XY}(\alpha) = 0$ thus $I_{XY} =0$.\\
    For the fifth identity we simply note
    \begin{equation}[\imath_X, \lie{Y}](f) = \imath_X \imath_Y (f), \quad \quad [\imath_X, \lie{Y}](df) = \imath_{[X,Y]} df \end{equation}
    Now the only one left to prove is the sixth identity. First, for functions, we get
    \begin{equation}[\lie{X}, \lie{Y}] (f) = [X,Y](f) \end{equation}
    Now for $1$-forms we obtain, using the Cartan-Magic-Formula and the Jacobi-Identity:
    \begin{equation}\lie{[X,Y]} = [d, \imath_{[X,Y]}] = [\lie{X}, \lie{Y}]\end{equation}
  \end{proof}
\end{prop}

We go on to find an interesting expression for the de Rham differential $d$. To this end, we note that for a closed form $\omega$ (thus $d\omega = 0$) we have
\begin{equation}\lie{X} \omega = d \circ \imath_X \omega \end{equation}
Now we use some induction and the above observation to prove the following statement:

\begin{lem}
  Given $k+1 \geq 2$ vector fields $X_0,...,X_{k} \in \VF(M)$, the following identity holds:
  \begin{equation}[\imath_{X_k} ... \imath_{X_1}, \lie{X_0}]  = \sum_{i=1}^{k} (-1)^{i+1} \imath_{X_k} ... \widehat{\imath_{X_i}} ... \imath_{X_1} \ \imath_{[X_i, X_0]}\end{equation}
  \begin{proof}
    We use induction on $k$. Since we have already shown the formula for $k = 1$, let the statement hold for some $(k-1)$. Now for $k$ we get
    \begin{equation}[\imath_{X_k} ... \imath_{X_1}, \lie{X_0}] = \imath_{X_k} ... \imath_{X_2} [\imath_{X_1}, \lie{X_0}] + [\imath_{X_k} ... \imath_{X_2}, \lie{X_0}] \imath_{X_1}\end{equation}
    Using our assumption for $k-1$, we obtain the required form which proves the statement.
  \end{proof}
\end{lem}

Now we use the previous lemma, to constitute a way of calculating the de Rham differential of a form.

\begin{prop}
  Let again  $X_0,...,X_{k} \in \VF(M)$ and $\omega \in \Omega^k(M)$. Then
  \begin{align}
    d\omega(X_0, ..., X_k) =& \ \sum_{i=0}^{k} (-1)^i \ X_i(\omega(X_0, ..., \widehat{X_i}, ..., X_k))\\
    +& \sum_{0 \leq i,j \leq k} (-1)^{i+j} \omega([X_i,X_j], X_0, ..., \widehat{X_i}, ..., \widehat{X_j}, ..., X_k)
  \end{align}
  \begin{proof}
    We again use induction on $k$. For $k=0$ we already know the formular holds. Now given for some $k-1$, we want to show that it also holds for $k$. To this end, note that
    \begin{align}
      (d\imath_{X_0}\omega)(X_1, ..., X_k) &= \ \sum_{i=1}^{k} (-1)^{i+1} \ X_i(\imath_{X_0} \omega(X_1, ..., \widehat{X_i}, ..., X_k))\\
      &+  \sum_{1 \leq i,j \leq k} (-1)^{i+j} \imath_{X_0} \omega([X_i,X_j], X_1, ..., \widehat{X_i}, ..., \widehat{X_j}, ..., X_k)\\
      &= \ \sum_{i=1}^{k} (-1)^{i+1} \ X_i( \omega(X_0, X_1, ..., \widehat{X_i}, ..., X_k))\\
      &+  \sum_{1 \leq i,j \leq k} (-1)^{i+j} \omega([X_i,X_j],X_0,  X_1, ..., \widehat{X_i}, ..., \widehat{X_j}, ..., X_k)
    \end{align}
    Now we further note
    \begin{align}
      d\circ \imath_{X_0}\ \omega(X_1, ..., X_k) &= \imath_{X_k} ... \imath_{X_1} \circ d\circ \imath_{X_0} \omega\\
      &= -d\omega(X_k, X_0) + \sum_{i=1}^k (-1)^{i+1} \ \imath_{X_k} ... \widehat{\imath_{X_i}} ... \imath_{X_1} \imath_{[X_i, X_0]} - X_0 (\omega(X_1, ..., X_k))
    \end{align}
    Putting those two together proves the Proposition.
  \end{proof}
\end{prop}

\subsection{Sheaves}

\begin{definition}[Presheaf]
  Let $X$ be a topological space. A \textbf{presheaf} $\FF$ of rings on $X$ consists of the following data:
  \begin{itemize}
    \item[(1)] For every open subset $U\subset X$ there exists a ring $\FF(U)$

    \item[(2)] For every inclusion $V \subset U$ of open subsets of $X$, there exists a morphism of rings
    \begin{equation}\rho_{UV} : \FF(U) \longrightarrow \FF(V) \end{equation}
    such that the following properties hold
    \begin{itemize}
      \item[a)] $\FF(\emptyset) = 0$

      \item[b)] $\rho_{UU}$ is the identity morphism

      \item[c)] If $W\subset V \subset U$ then
      \begin{equation}\rho_{UW} = \rho_{VW} \circ \rho_{UV} \end{equation}

    \end{itemize}
  \end{itemize}
\end{definition}

\begin{definition}[Sheaf]
  A presheaf $\FF$ on a topological space $X$ is a \textbf{sheaf}, if it satisfies the following additional properties:
  \begin{itemize}
    \item[d)] If $U$ is an open subset of $X$ and $\{V_i\}$ and open cover of $U$, $s\in\FF(U)$ such that $\rho_{UV_i}(s) = 0 \quad \forall i$ then $s=0$.

    \item[e)] If $U$ is an open subset of $X$ and $\{V_i\}$ and open cover of $U$. Let $s_i \in \FF(V_i)$ such that
    \begin{equation}
      \rho_{V_i \ V_i \cap V_j} (s_i) = \rho_{V_j \ V_j \cap V_i} (s_i) \quad \forall i,j
    \end{equation}
    then there exists an $s\in\FF(U)$ such that $\rho_{U V_i} (s) = s_i \quad \forall i$.
  \end{itemize}
  Alternatively, one can discard property d) and ask in e) that there exists a unique such $s\in\FF(U)$.
\end{definition}

We again provide some interesting examples of sheaves and presheaves:

\begin{example}~
\begin{itemize}
  \item Let $X$ be a topological space. For each open set $U\subseteq X$ let $C(U)$ be the ring of continuous functions with codomain $\RR$. The maps $\rho_{UV}:C(U)\ra C(V)$ for $V \subset U$ are now given by the restrictions of these functions in the usual sense. This makes $C$ a sheaf of rings on $X$.
  \item Let $f:X \ra Y$ be a continuous map between topological spaces $X,Y$. Define
  \begin{equation}
    \FF(U):=\{ s \colon U \subset Y \ra X, \ f \circ s = \id_U \}
  \end{equation}
  This constitutes a sheaf on $Y$. The maps $s$ in $\FF(U)$ are called \textbf{sections} of the sheaf.
  \item Let $X= \RR$ and define $\FF(U)$ to be the ring of bounded functions of an open subset $U\subseteq \RR$. Now this is not a sheaf: If $U = \RR$, we choose $V_i := \{x \in \RR \ s.t. \ |x| <i \}$. Now let $\id \colon x \mapsto x$ denote the identity map. We note that $\id \in \FF(V_i) \ \forall i \in \NN$. Thus there cannot exist $s \in \FF(\RR)$ s.t. $s|_{V_i} = \id_{V_i}$ since $\id_\RR \notin \FF(\RR)$ as it is not bounded. Thus we found a presheaf that is not a full sheaf.
\end{itemize}
\end{example}

The next natural step is to again identify the data needed for morphisms in the category of presheaves:

\begin{definition}[Morphisms of Sheaves]
  Let $\FF$ and $\GG$ be two presheaves (or sheaves) on a topological space $X$. A \textbf{morphism of (pre-) sheaves} consist of a morphisms of rings $\phi_U: \FF(U) \ra \GG(U)$ for all open sets $U \in X$ such that the following diagram commutes:
  \begin{equation}
  \begin{tikzcd}
    \FF(U) \arrow{r}{\phi(U)} \arrow[swap]{d}{\rho_{UV}} & \GG(U) \arrow{d}{\rho^\prime_{UV}} \\
    \FF(V) \arrow{r}{\phi(V)} & \GG(V)
  \end{tikzcd}
  \end{equation}
  Which sums up to saying $\rho^\prime \circ \phi = \phi \circ \rho$.
\end{definition}

To further expand upon the agricultural language of our setting, we go on to discuss the notion of germs:

\begin{definition}[Germs]
  Let $X$ be a topological space and $x \in X$. A \textbf{germ} on $X$ at $x$ is an equivalence class of functions $f:X \ra Y$ for a set $Y$ where we define $f\sim g$ if there exists a neighbourhood $U\subseteq X$ of $x$ such that $f|_U = g|_U$.
\end{definition}

Now it is very reasonable to ask how a sheaf behaves at an arbitrary point of the base topological space $X$. To this end, we can look at its behaviour in a small neighbourhood of a chosen point and then implement a fitting limit to come arbitrarily close. To this end, we use the direct limit known from category theory.

\begin{definition}[Stalks]
  Let $\FF$ be a presheaf on $X$, $p \in X$. The \textbf{stalk} $\FF_p$ of $\FF$ at $p$ is the direct limit of the rings $\FF(U)$ for all open sets $U$ containing $p$ through the restiction maps $\rho$.
\end{definition}


\begin{ex}
  As an interesting exercise you can show that the space of continuous functions at a point $p \in X$ is the stalk at $p$ of the sheaf of continuous functions on $X$.
\end{ex}

\begin{definition}[Locally Ringed Spaces]
\label{def:local_ring}
  A ring $R$ is a \textbf{local ring} if it has a unique maximal left or right ideal.
\end{definition}
\begin{definition}[Ringed Space]
  A \textbf{ringed space} $(X, O_X)$ is a topological space $X$ together with a sheaf of rings $O_X$ on $X$. $O_X$ is called the \textbf{structure sheaf} of $X$.
\end{definition}
\begin{definition}[Locally Ringed Space]
  A \textbf{locally ringed space} is a ringed space such that all the stalk of $O_X$ are local rings.
\end{definition}

In the following we will mostly use notion of locally ringed spaces. Before continuing, we again provide an example for the above constructs:

\begin{example}~
  \begin{itemize}
    \item Let $X$ be a topological space. $X$ is a locally ringed space if it is equipped with the sheaf of real valued continuous functions on $X$. The same holds for $X$ a manifold equipped with the sheaf of smooth functions. As an exercise you can prove that $X$ is indeed locally ringed. Hint: The unique maximal ideal consists of the germs for which the value at $x \in X$ is $0$.
    \item A smooth manifold is a locally ringed space locally isomorphic to $(R^n,\Ci(M, \RR^n))$.
  \end{itemize}
\end{example}


\subsection{Graded Manifolds}

\begin{definition} (Graded Manifold)
  A \textbf{graded manifold} $M$ is a locally ringed space $(M, O_M)$ where $M$ is a manifold and $O_M$ is a sheaf such that, for $U\subseteq \RR^n$ an arbitrary open subset, $O_M|_U \cong (U, \Ci(U) \otimes S^\bullet((W_U^*)^\bullet))$. $W_U$ is a graded vector space such that $(W_U)^0 = \{0\}$ (here, the index $0$ indicates the grade). Recall that $S^\bullet((W_U^*)^\bullet))$ denotes the graded algebra of graded polynomial functions on $W_U$.\\

  The sections of the sheaf $O_M$ are called \textbf{graded functions} on the graded manifold $M$. Note that the graded functions form a graded algebra.
\end{definition}

For later use, consider $S^\bullet((W_U^*)^\bullet)$ as a generalisation of formal power series (say in $\hbar$) and $\Ci(U)$ as smooth functions depending on $n$ variables.

\begin{rem}
  The local isomorphism required above should preserve the grading of
  \begin{equation}\bigoplus_{k \geq 0} \Ci(U) \tens{} S^k W_U^*\end{equation}
  Note further that $|f  \tens{} v| = |v|$.
\end{rem}

On a graded manifold we do have local coordinates. But aside from the usual coordinates defined using open coverings of $M$, we also have coordinates that do justice to the graded setting:\\

We denote the coordinates by $(x_i)^k_{i= 1,...,m}$ with $x^k \colon U \lra S^\bullet((W^*_U)^k)$. Now coordinates of degree $0$ are coordinates on the open sets of an open cover $U_i$. Meanwhile coordinates with $|x_i| \neq 0$ are coordinates on $S^\bullet(W^*)$.\\

Now we once again turn to the respective morphisms of graded manifolds. Looking at the definition of a graded manifold, we first need to define the morphisms of (locally) ringed spaces:

\begin{definition} (Morphisms of Ringed Spaces)\\
  A \textbf{morphism between ringed spaces} $(X,O_X)$ and $(Y,O_Y)$ is a pair $(f, \psi)$ where $f:X \lra Y$ is continuous and $\psi \colon O_Y \lra f_* O_X$
  is a local (see below) morphism  of sheaves (on $Y$). $f_* O_X$ denotes the direct image of the structure sheaf of $X$ defined for opens $U\subseteq Y$ as
  \begin{equation}(f_* O_X)(U) := O_X(f^{-1}(U)) \end{equation}
\end{definition}

Unpacking the above definition we note: We have $f:X \ra Y$ continuous and a family of morphisms of rings $\psi_U \colon O_Y(V) \ra O_X(f^{-1}(V))$ for all $V\subseteq Y$ open. Now this makes the following diagram commute for some $V_1 \subseteq V_2$:

\[
\begin{tikzcd}
  O_Y(V_2) \arrow{r}{\psi_{V_2}} \arrow[swap]{d}{\rho^Y_{V_2 V_1}} & O_Y(f^{-1}(V_2)) \arrow{d}{\rho^X_{f^{-1}(V_2) f^{-1}(V_1)}} \\
  O_Y(V_1) \arrow{r}{\psi_{V_1}} & O_Y(f^{-1}(V_1))
\end{tikzcd}
\]

An algebraic version of the diagram can be formed as such: Let $s\in O_Y(V_2)$ be a section. Then $\psi(s) \in O_Y(f^{-1}(V_2))$ and $\rho^X(\psi(s)) \in O_X(f^{-1}(V_1))$. Using $\rho^Y$ instead we finally obtain:
\begin{align}
  \rho^X \circ \psi = \psi \circ \rho^Y
\end{align}
Now in the case of a locally ringed space, we have an additional condition that must uphold. Namely the ring homomorphism induced by $\psi$ between the stalks of $Y$ and $X$ has to be a local homomorphism i.e. it has to map the maximal ideal to the maximal ideal.

\begin{definition} (The Algebra of Smooth Functions)\\
  The \textbf{algebra of smooth functions} $\Ci(M)$ of a graded manifold $(M, O_M)$ is the algebra of global sections of $O_M$. It automatically inherits a $\ZZ$ grading and thus forms a graded algebra.
\end{definition}

Note that the graded symmetric algebra is the generalisation of both the symmetric algebra and the exterior algebra. We use the previous definitions to pull the concept of a vector bundle to the graded setting:

\begin{definition} (Graded Vector Bundles)\\
  A \textbf{graded vector bundle} over a manifold $M$ is a collection of ordinary vector bundles $(E_i)_{i\in \ZZ}$ over $M$.
\end{definition}

We try to bring the matter closer to the reader by giving one example:

\begin{example}~
\label{Sheaf_of_sections}
  Given a manifold $M$ and a vector bundle $E\longrightarrow M$, the sheaf of sections
  \begin{equation}U \mapsto \Gamma(U, S^\bullet(E^*|_U)) \end{equation}
  is a graded manifold denoted by $E$. As a rather complicated exercise, you can prove the above statement.
\end{example}

\begin{example}~
\begin{itemize}
  \item Let $V$ be a vector bundle. We can construct a graded manifold as in Example \ref{Sheaf_of_sections} by taking $E:= V[1]$. Here, $V[1]$ is the graded vector bundle with $V$ at grade $1$ and no other content.

  \item In the same manner we can take $T[1]M$ to get the graded manifold $\Omega^\bullet(M)$.
\end{itemize}
\end{example}

\begin{rem}[Serre--Swan Theorem] Under certain hypotheses one could prove that any graded manifold is isomorphic to a graded manifold associated to a graded vector-bundle. This result is a version of the Serre--Swan Theorem.
\end{rem}


This theorem tells us that all graded manifolds can be considered to be of the form seen in the aforementioned example regarding the sheaf of sections. We go on to define \emph{graded vector fields} to fit some analysis into our graded setting.

\begin{definition}[Graded Vector Fields]
  A \textbf{graded vector field} on a graded manifold $M$ is a graded linear map
  \begin{equation}X:\Ci(M) \ra \Ci(M)[k] \end{equation}
  satisfying the \textbf{graded Leibniz rule}
  \begin{equation}X(fg) = X(f) g + (-1)^{k|f|} \ f \ X(g) \quad \quad \forall f,g \in \Ci(M)\end{equation}
  It is easy to show that the graded vector fields form a graded vector space.
\end{definition}

Now we use the coordinates $x^i$, we previously defined on a graded manifold, to locally express graded vector fields as
\begin{equation}X := X^i \ \dell{}{x^i} \end{equation}

\begin{example}~
  The \emph{graded Euler vector field} is a graded vector field existing for any graded manifold $M$ defined as
  \begin{equation}E(f) := |f| \ f \end{equation}
  for $f$ any homogenous function. As an exercise you can show that $E$ is a graded derivation of degree $0$.
\end{example}

In local coordinates, we can express the Euler vector field as
\begin{equation}E = \sum_i |x^i| x^i \ \dell{}{x^i} \end{equation}

\begin{rem}
  The \textbf{graded commutator} equips the graded vector space of graded vector fields with the structure of a graded Lie algebra:
  \begin{equation}[X,Y] := X \circ Y - (-1)^{kl} \ Y \circ X \end{equation}
  It is an easy exercise to prove this statement.
\end{rem}

Now we further investigate the graded Euler vector field and its remarkable properties.

\begin{prop}
  For any graded vector field $X$ we have
  \begin{equation}[E,X] = deg(X) \ X \end{equation}
\begin{proof}
  \begin{align}
    [E,X](f) &= E(X(f)) - X(E(f)) = |X(f)| X(f) - X(|f| f)\\
    &= (|X(f)| - |f|) X(f) = deg(X) \ X(f)
  \end{align}
\end{proof}
\end{prop}


To bring further notions of our usual geometric background to the graded setting, we turn towards the notion of homology as a powerful tool to classify manifolds using their innert topological properties:

\begin{definition} (Cohomological Vector Fields)\\
  A \textbf{cohomological vector field} is a graded vector field of degree $+1$ which commutes with itself, thus
  \begin{equation}[Q,Q] = 0 \quad \Rightarrow \quad 2 Q\cdot Q = 0 \quad \Rightarrow \quad Q^2=0 \end{equation}
  Note that thus every cohomological vector field corresponds to a differential on the graded algebra of smooth functions $\Ci(M)$.
\end{definition}

Again, we provide some interesting examples to further illuminate the definitions:

\begin{example}~
\begin{itemize}
  \item Consider $T[1]M$. The algebra of smooth functions on it is the algebra of differential forms on $M$, namely $\Omega^\bullet(M)$ using the de Rham differential. Note that $M$ is just a normal manifold in this example. This shows that the de Rham differential is a cohomological vector field on $T[1]M$ seen as the graded manifold $(U, \Ci(U) \otimes S(T[1]M^*))$.

  \item Let $\fg$ be a finite dimensional Lie algebra. We look at the graded manifold with body a point and $W=\fg [1]$. This graded manifold carries a cohomological vector field $Q$ corresponding to the Chivally--Eilenberg differential on $\bigwedge^\bullet \fg^* = \Ci(\fg[1])$. We use $(e_i)^n_{i=1}$ as a basis of $\fg$ and denote by $f^k_{ij}$ the induced structure constants
  \begin{equation}[e_i, e_j] = \sum_{k=1}^n f_{ij}^k e_k \end{equation}
  Now we can define $Q$ to be
  \begin{equation}Q := \frac{1}{2} \sum_{i,j = 1}^n x^i x^j f_{ij}^k \dell{}{x^k} \end{equation}
  Where we denoted by $(x^i)_{i=1}^n$ the coordinates on $\fg[1]$ dual to the basis $(e_i)^n_{i=1}$. As an interesting exercise, prove that $Q$ is indeed cohomological, i.e. degree-$1$ and $Q^2=0$.
\end{itemize}
\end{example}

%TODO text

\begin{definition} (Differential Graded Manifolds)\\
  A graded manifold together with a cohomological vector field is called a \textbf{differential graded manifold} or short \textbf{dg-manifold}. The morphisms of dg-manifolds are morphisms of graded manifolds with respect to which the respective cohomological vector fields are related.
\end{definition}

We turn our heads towards integration in the graded setting. To this end, we investigate differential forms. The main problem will be the problematic transformation behaviour of differential forms that will dramatically complicate the notion of integration. As a result, we will turn towards the symplectic setting which eliminates many of the upcoming difficulties.\\

Locally, we reconstruct the algebra of differential forms on $M$ by adding a new set of coordinates $(dx^i)^n_{i=1}$ with total degree (grading plus degree of differential form) $(|x^i|+1)$. Note that generally $(dx^i)^2 \neq 0$. The rough outline of the procedure looks as follows:

\begin{itemize}
  \item[1.] Differential forms are reconstructed as a graded manifold starting from $T[1]M$.
  \item[2.] The de Rham differential has already been shown to be a cohomological vector field on $\Ci(T[1]M)$.\\
  Now we interpret $T[1]M$ as a dg-manifold where $Q$ is the de Rham differential. In coordinates, we have
  \begin{equation}Q = \sum_{i=1}^n dx^i \dell{}{x^i} \end{equation}
\end{itemize}

\begin{definition} (Graded de Rham Complex)\\
  The \textbf{graded de Rham complex} (cochain complex) $(\Omega^\bullet(M), d)$ is defined as $\Ci(T[1]M)$ equipped with the differential (coboundary operator) $Q$ as defined above. Thus the elements of the space of this complex are differential forms on $M$.
\end{definition}

Now our next goal is to extend the Cartan Calculus to this setting. The main point is thus to define the respective operators. First note that $ \imath_{\dell{}{x^i}} $ has degree $(|x^i|-1)$ and $ \imath_{\dell{}{x^i}} dx^j = \delta^j_i $. Note further that
\begin{equation}\lie{X}\omega := \imath_X \circ d\omega + (-1)^{|X|} d \circ \imath_X \omega \end{equation}
Now it would be convenient to pinpoint the degree of a differential form. To no surprise, the graded Euler vector field can be used to do just that:
\begin{align}
  \lie{E} x^i &= E(x^i) = |x^i| x^i\\
  \lie{E} dx^i &= d \circ \imath_{E}(dx^i) = d \circ \lie{E}(x^i) = |x^i| dx^i
\end{align}
Thus we can unambigously define the degree of a differential form:

\begin{definition}
  We define the degree $|\omega|$ of a differential form $\omega$ through the formula
  \begin{equation}\lie{E}\omega = |\omega| \omega \end{equation}
\end{definition}

With this definition at hand, we are ready to introduce the symplectic setting.

\begin{definition} (Graded Symplectic Forms)\\
  A \textbf{graded symplectic form} of degree $k$ is a two-form $\omega$ which has the following properties:
  \begin{itemize}
    \item[1.] $\omega$ is homogeneous of degree $k$
    \item[2.] $\omega$ is closed wrt. the de Rham operator
    \item[3.] $\omega$ is non-degenerate, i.e. the induced musical morphism
    \begin{align}
      \omega^i : TM &\ra T^*[k]M,\\
      X &\mapsto \omega(X, \cdot)
    \end{align}
    is an isomorphism.
  \end{itemize}
\end{definition}



\begin{definition} (Graded Symplectic Manifolds)\\
  A \textbf{graded symplectic manifold of degree $k$} is a pair $(M, \omega)$ where $M$ is a graded manifold and $\omega$ is a graded symplectic form on $M$ of degree $k$.
\end{definition}

This definition implies some interesting properties of graded symplectic manifolds:

\begin{lem}
 Given $(M, \omega)$, let $\gr(\omega) = k \neq 0$. This implies that $\omega$ is exact.

\begin{proof}
  We easily show that
  \begin{equation}k \cdot \omega = \lie{E} \omega = d\circ \imath_E\omega \quad \Rightarrow \quad \omega = d\left( \frac{1}{k} \imath_E \omega \right) \end{equation}
\end{proof}
\end{lem}

We extend the notion of a symplectic form to vector fields:

\begin{definition}~
\begin{itemize}
  \item Let $\omega$ be a graded symplectic form on $M$. A vector field $X$ is a \textbf{symplectic vector field} if
  \begin{equation}\lie{X}\omega = 0 \end{equation}

  \item A vector field $X$ is an \textbf{hamiltonian vector field} if the contraction of $X$ and $\omega$ is an exact one-form, i.e. $\exists H \in \Ci(M)$ s.t.
  \begin{equation}\imath_X \omega = dH \end{equation}

\end{itemize}
\end{definition}

\begin{lem}
  Let $\omega$ be a graded symplectic form on $M$ with $\gra(\omega) = k$ and let $X$ be a symplectic vector field of degree $l$. If $k+l \neq 0$, then $X$ is hamiltonian.

\begin{proof}
  First, we note that
  \begin{align}
    [E,X] = lX, \quad \quad \lie{X}\omega = d \circ \imath_X \omega = 0, \quad \quad \lie{E}\omega = k\omega
  \end{align}
  Now we can define $H:=\imath_E\imath_X \omega$ to obtain
  \begin{align}
    dH &= d \circ \imath_E\imath_X \omega = \lie{E}\imath_X\omega - \imath_E \circ d\imath_X\omega\\
    &= \lie{E}\imath_X \omega = \imath_{[E,X]} \omega + \imath_X \lie{E}\omega = l \imath_X\omega + \imath_X(k\omega)\\
    &= l \imath_X\omega + k \imath_X \omega = (l+k) \imath_X \omega
  \end{align}
  and thus
  \begin{equation}\imath_X\omega = \frac{dH}{k+l} \end{equation}
  which proves the claim.
\end{proof}
\end{lem}

\begin{definition} (Differential Graded Symplectic Manifolds)\\
  A graded symplectic manifold of degree $k$ with a symplectic cohomological vector field is called a \textbf{differential graded symplectic manifold of degree $k$} and is denoted by $(M, \omega, Q)$.
\end{definition}

Using the previous lemma we see that, given $\gra(\omega) \neq -1$, the cohomological vector field $Q$ is necessarily hamiltonian. As an interesting analogy, we can define a structure similar to that of the well-known \emph{Poisson-bracket} using the symplectic form of a differential graded symplectic manifold. To this end, define
\begin{align}
  \{\cdot, \cdot \} : \Ci(M) \times \Ci(M) \quad &\ra \quad \Ci(M),\\
  (f,g) \quad &\mapsto \quad \{f,g\} := (-1)^{|f|+1} \ X_f(g)
\end{align}
where we denote by $X_f$ the unique hamiltonian graded vector field corresponding to $f$, thus satisfying
\begin{equation}\imath_{X_f}\omega = df \end{equation}
As an exercise you can show that the thus defined bracket satisfies relations strikingly similar to those of the Poisson-bracket.\\

Using the notion of a hamiltonian graded vector field, we take a differential graded symplectic manifold $(M,\omega, Q)$ and use the innert cohomological vector field $Q$ to define the unique function $S$ that satisfies (modulo sign)
\begin{equation}\imath_Q \omega = dS \end{equation}
Now since $Q = \{S,\cdot\}$ we see
\begin{equation}Q(f) = \{S, f\} = (-1)^{|S|+1} X_S(f) = X_S(f) \end{equation}
implying that $[Q,Q](f) = \{\{S,S\},f\} = 0$ making $\{S,S\}$ a constant. Now since $\{S,S\}$ has degree $k+2$, $\omega$ has degree $k$ and $S$ has degree $k+1$ we see that
\begin{equation}\label{ClassicalMasterEquation}\tag{CME}
  \{S,S\} = 0
\end{equation}
since constants have degree $0$. This equation is called the \textbf{Classical Master Equation} and will become increasingly important towards the end of the course.


\subsection{Principal Bundles}

\begin{rem}
  In the following subsection, we consider everything to be smooth which makes a lot of subtle details easier.
\end{rem}

We begin by giving the barebone definition of a Fibre bundle. Good additional material on this topic can be found in  \source{Diffgeo_Intro} and \source{Diffgeo_Merry}.

\begin{definition} (Fibre Bundles and Sections)\\
  Let $M$ be a manifold. A \textbf{bundle} over $M$ is a triple $E\overset{\pi}{\longrightarrow}M$ where $E$ is a smooth manifold and $\pi$ a smooth surjective map $\pi:E\ra M$.\\
  A \textbf{fibre bundle} is a bundle for which all fibres, that is preimages of the form $\pi^{-1}(p)$ for $p\in M$, are diffeomorphic to one another.\\
  Now a \textbf{section} (or cross section) of a bundle $(E,\pi,M)$ is a smooth map $s:M\ra E$ satisfying the section property $\pi \circ s = id_M$.
\end{definition}

Now recall that a \textbf{$G$-space} $X$ is a topological space $X$ equipped with a Lie Group $G$ and a smooth right (or left) action $\sigma:G\times X \ra X$. We now use the notion of orbit spaces to form special fibre bundles using the quotient spaces under a given action:

\begin{definition}
  A bundle $(E,\pi,M)$ is a \textbf{$G$-bundle} if $E$ is a right $G$-space and if $(E,\pi,M)$ is isomorphic to the bundle $(E,\rho,E/G)$ where $E/G$ denotes the quotient space of the respective action and $\rho$ is the standard projection.
\end{definition}

We introduce further classification of $G$-bundles by restricting to certain types of actions:

\begin{definition}[Principal $G$-bundles]
  A $G$-bundle $(E,\pi,M)$ is a \textbf{principal $G$-bundle} if $G$ acts freely on $E$ and transitively on fibres.
\end{definition}

Remember that an action $\sigma$ is free, if for any $g\in G$ and $x\in X$ the equation $\sigma_g(x) = x$ implies $g = e_G$. Now a free action results in each orbit, and thus each fibre, being homomorphic to $G$ itself and hence $(E,\pi,M)$ is indeed a fibre bundle as implied before. We give some interesting examples to illuminate the definitions:

\begin{example}~
\begin{itemize}
  \item The \textbf{product bundle} $(M\times G, \pi_1, M)$ is a principal $G$-bundle under the action $(p, g_0)g = (p, g_0 g)$.

  \item Let again $G$ be a Lie group and $H$ be a closed Lie subgroup of $G$. Then $H$ acts freely on $G$ via the right action and we denote the orbit space by $G/H$. Now the triple $(G,\pi, G/H)$ where $\pi$ is the standard projection to the orbit space is a principal $H$-bundle.

  \item Let $M$ be an $m$-dimensional manifold. A linear frame $b_p$ at $p\in M$ is an ordered set $(b_1, ..., b_m)$ of vectors that forms a basis of the tangent space $\Tp$. Now we define the set $B(M)$ to be the set of all frames at all points of $M$ and the projection $\pi:B(M)\ra M$ that maps $b_p \mapsto p$. Using the vector space structure of the tangent spaces, we can define a natural free action on $B(M)$ using the Lie group $GL(m,\RR)$ via
  \begin{equation}(b_1, ...,b_m)g := \left( \sum_{j_1}^m b_{j_1} g_{j_1 1}, ..., \sum_{j_m}^m b_{j_m} g_{j_m 1} \right) \end{equation}
  Now as an exercise $B(M)$ can be given the structure of a smooth manifold. This enables us to show that $(B(M), \pi, M)$ is a $GL(m,\RR)$-principal bundle, known as the frame bundle.
\end{itemize}
\end{example}

Having defined a new set of objects, we again define the morphisms between them to enble comparison and transition.

\begin{definition} (Principal Bundle Morphisms)\\
  Let $(P,\pi_1,M)$ be a principal $G$-bundle and $(Q,\pi_2, N)$ be a principal $H$-bundle. A \textbf{principal bundle map} is a triple $(u, \phi, \Lambda)$ such that $u: P \ra Q$ and $\phi: M \ra N$ are smooth maps and $\Lambda: G \ra H$ is a group homomorphism and such that
  \begin{align}
    \pi_2 \circ u &= \phi \circ \pi_1,\\
    u(pg) &= u(p) \Lambda(g) \quad \forall p \in P, \ g\in G.
  \end{align}
  %Namely the following two diagrams should commute:
  %TODO commutative diagrams!!
\end{definition}

We thus arrive at an important conclusion regarding bundles over the same base manifold.

\begin{theo}
  Let $(u,id_M,id_G)$ be a principal bundle map between the principal $G$-bundles $(P,\pi_1,M)$ and $(Q,\pi_2,M)$. Then $u$ is an isomorphism.
\begin{proof}
  This proof is left as an easy but important exercise left to the reader.
\end{proof}
\end{theo}

We further classify special cases of principal $G$-bundles using the aforementioned concepts:

\begin{definition}
  A principal $G$-bundle $(P,\pi,M)$ is \textbf{trivial} if there is a principal bundle map to the product bundle $(M\times G, \pi_1, M)$.
\end{definition}

An important property to classify trivial bundles is the existence of smooth global sections (which imply global frames):

\begin{theo}
  A principal $G$-bundle $(P,\pi,M)$ is trivial iff there exists a smooth global section.

\begin{proof}
  Let $\sigma:M\ra P$ be a section such that $\pi \circ \sigma(x) = x$ for all $x \in M$. Now for all $p\in P$ there exists a $\chi_\sigma(p) \in G$ such that
  \begin{equation}p = \sigma(\pi(p)) \chi_\sigma(p) \end{equation}
  Now $\chi_\sigma : P \ra G$ is uniquely defined since $G$ acts freely on $P$. Furthermore we have
  \begin{equation}\chi_\sigma (pg) = \chi_\sigma(p) g \end{equation}
  and thus
  \begin{align}
    \sigma(\pi(pg)) \chi_\sigma(pg) &= pg \\
    \Rightarrow \quad \sigma(\pi(p)) \chi_\sigma(p) g &= \sigma(\pi(p)) \chi_\sigma(pg)
  \end{align}
  Thus we can define a map
  \begin{align}
    u_\sigma : P &\longrightarrow M\times G,\\
    p &\longmapsto u_\sigma(p) := (\pi(p), \chi_\sigma(p))
  \end{align}
  Now note that $pr_1 \circ u_\sigma = \pi$ and further $u_\sigma(pg) = u_\sigma(p)g$. Thus $u_\sigma$ is a principal bundle map and conversely we can define $h: M\times G \longrightarrow P$ as a principal bundle map via
  \begin{align}
    \sigma_u : M &\longrightarrow P,\\
    x &\longmapsto h(x, e_G)
  \end{align}
  This proves the theorem. %TODO
\end{proof}
\end{theo}


We take a step back and investigate a natural product defined on $G$-spaces. This will enable us to define associated bundles, a very important naturally occuring form of principal bundles.

\begin{definition}
  Let $X$ and $Y$ be a pair of $G$-spaces. Then their \textbf{$G$-product} $X \times_G Y$ is the space of orbits of the $G$-action on the cartesian product $X\times Y$, namely $X\times_G Y = (X\times Y)/G$ where
  \begin{equation}(x,y) \sim (x^\prime, y^\prime) \quad \text{if} \quad \exists g\in G\  s.t. \ x^\prime = xg, \ y^\prime = yg \end{equation}
\end{definition}

\begin{definition}[Associated Bundles]
  Let $\xi = (P, \pi, M)$ be a principal $G$-bundle an let $F$ be a left $G$-space. Define
  \begin{align}
    P_F \ &:= \ P \times_G F\\
    (p,v)g \ &:= \ (pg, g^{-1}v)
  \end{align}
  and further $\pi_F: P_F \ra M$ via $\pi_F([p,v]) = \pi(p)$. Then $\xi[F]:= (P_F, \pi_F, M)$ is a fibre bundle on $M$ with fibre $F$. We call this bundle the \textbf{associated bundle} to the principal bundle $\xi$.
\end{definition}

To show that the above is indeed a well-defined concept, we need to prove that the introduced map $\pi_F$ does not care about the choice of the respresentative. Also we need to show that all fibres of the given bundle are indeed homeomorphic to one another:
\begin{proof} This proof can be split in two steps:
\begin{itemize}
  \item[(1)] Let $(p_1, v_1) \sim (p_2, v_2)$ thus there exists $g \in G$ such that $(p_2, v_2) = (p_1g, g^{-1}v_1)$. Now our goal is to show that $\pi_F(p_1, v_1) = \pi_F(p_2, v_2)$ and $\pi(p_1 g) = \pi(p_1)$. But since $\pi_F(p_1, v_1) = \pi(p_1)$, we easily see that
  \begin{equation}\pi_F(p_2,v_2) = \pi(p_2) = \pi(p_1g) = \pi(p_1) = \pi_F(p_1,v_1) \end{equation}

  \item[(2)] For each $x\in M$ the fibre $\pi_F^{-1}(\{x\})$ is homeomorphic to $F$. As an exercise, you can prove this claim.
\end{itemize}
\end{proof}


Now we use associated bundles, to build a bridge to a very important type of bundle that is used heavily throughout physics and will play a major role in our course:

\begin{theo} (Associated Bundle Theorem)\\
  Let $V$ be any real, finite-dimensional vector space and let $GL(V,\RR)$ be the group of automorphisms of $V$. Then the associated bundle $\xi[V]$ is a \textbf{vector bundle} (note that here, $\xi$ is a principal $GL(V, \RR)$-bundle). Conversely, every vector bundle is bundle-isomorphic to an associated bundle of this type. Note that this is not unique since every such principal bundle qualifies for this transition.
\begin{proof}
  A proof of this claim can be found in \source{ModernDiffgeo}.
\end{proof}
\end{theo}

The next important construction is that of a connection on a bundle and the induces notion of curvature both of which will play a major role when we talk about Yang-Mills-Theory later in the course.

\begin{definition}
\label{Vertical_subspace}
(Vertical Subspace)\\
  Let $P \overset{\pi}{\longrightarrow} M$ be a principal $G$-bundle. The \textbf{vertical subspace} of $T_pP$ is defined and denoted as
  \begin{equation}V_pP:= \{ \tau \in T_pP | \pi_* \tau = 0 \} \end{equation}
  Where we denote by $\pi_*$ the pushforward $TP \ra TM$.
\end{definition}

Now defining the vertical subspace leaves us with the converse concept, a kind of horizontal space. This will be achieved by defining connections on a bundle:

\begin{definition}
\label{Connections}
(Connections)\\
  A \textbf{connection} on a principal bundle $P \ra M$ is choice of subspaces of $TP$ denoted by $HP$ defined for each $p \in P$ such that $H_pP \subset T_pP$ and such that
  \begin{itemize}
    \item[1.] $T_pP \simeq H_pP \oplus V_pP \quad \forall p\in P$
    \item[2.] $(\delta_g)_* (H_pP) = H_{pg}P \quad \forall p \in P, \ \forall g \in G$
  \end{itemize}
  where we denoted by $\delta_g(p) = pg$ the action of $G$.
\end{definition}

The main point is that, given a connection on a principal bundle, we can take any $\tau \in T_pP$ and uniquely decompose it as $\tau = hor(\tau) + vert(\tau)$. The same is possible for $X\in \VF(P)$ where $X = hor(X) + ver(X)$ such that $hor(X)_p \in H_pP$ and $ver(X)_p \in V_pP$ for all $p\in P$. Note that these two vector fields are smooth. %Thus a connection ultimately gives us a tool to uniquely split a vector field which allows .\\


Now in order to avoid working with spaces, we aim to give an equivalent notion using Lie algebras and some geometry. First recall that, given a Lie group $G$, we can identify the Lie algebra $\gf \simeq T_eG$. Now for $A \in \gf$ and a principal $G$-bundle $P$, we can define a vector field on $TP$ for $f:P\ra \RR$ via
\begin{equation}X^A_p(f) := \dd{}{t}\Big|_{t=0} f(p \exp(tA)) \end{equation}
where $t\in \RR$. We denoted by $\exp$ the well-known exponential map
\begin{align}
  \exp: \gf &\longrightarrow G\\
  x &\longmapsto \gamma(1)
\end{align}
where $\gamma:\RR\longrightarrow G$ is the unique $1$-parameter subgroup with tangent vector $x$ at the identity.
%TODO Figure Lie algebra surface (?)

The exponential map is particularly important because it allows us to prove the following theorem:

\begin{theo}
  Let $P$ be a manifold on which $G$ has a right action. Then the map
  \begin{align}
    \psi : \gf &\longrightarrow \VF(P)\\
    A &\longmapsto X^A
  \end{align}
  is a homomorphism of $\gf$ into the infinite dimensional Lie algebra of all vector fields on $P$, i.e.
  \begin{equation}[X^A, X^B] = X^{[A,B]} \quad \forall A,B \in \gf \end{equation}
\begin{proof}
  The proof is quite complicated and can be found on page $196$ of \source{ModernDiffgeo}.
\end{proof}
\end{theo}

Another result which further explains, why we care about these results in the context of vertical and horizontal vector fields is presented in the following proposition:

\begin{prop}
 For a principal bundle $P$, the map $\psi_p : A \ra X^A_p$ is an isomorphism of $\gf$ onto $V_pP$. This can be seen by using $D\pi(X)(f) = 0$ due to $\pi(pg) = \pi(p)$ for any $g\in G$. Note that $\dim V_pP = \dim G = \dim \gf$
\end{prop}

Hence we can denote the inverse
\begin{equation}\psi^{-1}_p: V_pP \longrightarrow \gf \end{equation}
mapping the vertical space at $p$ to the Lie algebra. Using the isomorphism at hand, we can define a uniquely determined one-form on a principal $G$-bundle which will turn out to be equivalent to a unique connection.

\begin{definition}
\label{Connection_Form}
(Connection Form)\\
  A \textbf{connection form} $\omega$ is a $\gf$-valued one-form on a principal $G$-bundle $P \ra M$ such that
  \begin{itemize}
    \item[1.] $\omega_p(X^A) = A \quad \forall p \in P, \ \forall A \in \gf$
    \item[2.] $\delta_g (p) = pg$ \quad \quad $(\delta_g)_* \omega = Ad_{g^{-1}} \omega \quad \forall g \in G$
  \end{itemize}
  where we denote by $Ad$ the adjoint map defined as
  \begin{align}
    Ad: G &\longrightarrow Aut(G)\\
    g &\longmapsto \psi_g [h \in G \longmapsto ghg^{-1}]
  \end{align}
  Note that we can also interpret $Ad$ as a map to the automorphisms of $\gf$ since
  \begin{align}
    Ad_g = (d\psi_g)_e : T_eG &\longrightarrow T_eG\\
    \Rightarrow \quad Ad: G &\longrightarrow Aut(\gf)
  \end{align}
\end{definition}

Now take a smooth map $\phi:M \ra N$ and look at the corresponding pullback map
\begin{align}
  \phi^*: \Omega^k(N) &\longrightarrow \Omega^k(M)\\
  \alpha &\longrightarrow \phi^*\alpha
\end{align}
Now if we take $\phi = \delta_g : P \longrightarrow P$ that maps $p \mapsto pg$, we obtain a pullback map $\Omega^1(P) \longrightarrow \Omega^1(P)$. Using a connection form $\omega$ we see that $\delta_g^* \omega = Ad_{g^{-1}}\omega$ amounts to the claim
\begin{equation}
  \omega_{pg}(D\delta_g(\tau)) = Ad_{g^{-1}}(\omega_p(\tau))
\end{equation}
This leads us to the following theorem:

\begin{theo}
  A connection form on a principal bundle $P$ uniquely defines a connection. Vice versa a connection on $P$ uniquely defines a connection form. We can thus use the two interchangeably.
\begin{proof}
  With some details left out, we give the main sketch of this proof and encourage the reader to fill in the details:\\

  Let $\omega$ be a connection form on $P$. Define $H_pP:= \ker \omega_p$. As an exercise one can prove that this definition of $H_pP$ indeed satisfies the properties of a connection. Basically one needs to use that $\omega_p$ maps elements of the horizontal space to zero by definition while for vertical vectors we obtain nonzero elements of the Lie algebra. Thus we obtain a way to identify vertical vectors. One then verifies, using the second property of connection forms, the second property of \ref{Connections}.\\

  Starting with a connection, we can define
  \begin{equation}\omega_p(\tau) := \psi^{-1}_p (ver(\tau)) \end{equation}
  which clearly defines a one-form. As an exercise you can check that the thus defined form satisfies the properties of a connection form. For the first property, note that $\omega_p(X^A) = \psi^{-1}_p(\psi_p(A)) = A$. For the second, we remember $H_{pg}P = (\delta_g)_* H_pP$.
\end{proof}
\end{theo}

We will now turn towards the notion of curvature: Given a connection on a principal $G$-bundle $P$ we have the following splittings for bundles and their sections at hand:
\begin{itemize}
  \item $TP = VP \oplus HP$
  \item $T^*P = V^*P \oplus H^*P$
  \item $\bigwedge^2 T^*P = \left( \bigwedge^2 V^*P \right) \oplus \left( V^*P \wedge H^*P\right) \oplus \left( \bigwedge^2 H^*P \right)$
  \item $\Omega^1(P) = \Omega^1_{vert}(P) \oplus \Omega^1_{hor}(P)$
  \item $\Omega^2(P) = \Omega^2_{vert}(P) \oplus \Omega^2_{mix}(P) \oplus \Omega^2_{hor}(P)$
\end{itemize}
Note that thus a connection form $\omega$ lies in $\Omega^1_{vert}(P) \tens{} \gf$. Now we use the exterior derivative (de Rham differential) to state
\begin{equation}d\omega \in \Omega^2(P) \tens{} \gf = (\Omega^2_{vert}(P) \oplus \Omega^2_{mix}(P) \oplus \Omega^2_{hor}(P)) \tens{} \gf \end{equation}
and thus
\begin{equation}d\omega = d\omega_{vert} + d\omega_{mix} + d\omega_{hor} \end{equation}
which leads us to the following proposition:

\begin{prop}~
\begin{itemize}
  \item $d\omega_{vert}(X,Y) = [\omega(X), \omega(Y)]$
  \item $d\omega_{mix} = 0$
\end{itemize}
\begin{proof}
  The proof uses the previously presented properties of the action of forms on vector fields and the connection form. It is left as an exercise to the reader.
\end{proof}
\end{prop}

We can now define the notion of curvature on a principal bundle using the differential of a connection form:

\begin{definition}(Curvature)\\
  Let $P$ be a principal $G$-bundle and $\omega$ a connection form on $P$. The \textbf{curvature} of $\omega$ is the unique $2$-form
  \begin{equation}F_\omega := d\omega_{hor} \in \Omega^2_{hor}(P) \tens{} \gf \end{equation}
\end{definition}

Keep in mind that this notion will be particularly useful in Yang-Mills-Theory. Now one simple case of curvature is trivial curvature:

\begin{definition}
  A connection with zero curvature is called \textbf{flat}.
\end{definition}

%TODO text

\begin{definition} (Torsors)\\
  A \textbf{Torsor} for a group $G$ is a non-empty set $X$ on which $G$ acts freely and transitively.
\end{definition}

Above we used an arbitrary set $X$. If we take $G$ to be a Lie group and $X$ a manifold, we need the action to be smooth to define a torsor of $G$ on $X$. Note that the definition of a torsor can vary depending on the context and is thus given in a rather general form above.\\

Unpacking the definition, we first note that we have an action
\begin{align}
  X \times G & \longrightarrow X \quad s.t.\\
  x \cdot e \quad &= \quad x \quad \quad \quad \ \ \ \forall x \in X\\
  x(gh) \quad &= \quad (xg)h \quad \forall g,h \in G\\
  \intertext{and such that the following map is an isomorphism of $X$}
  X\times G & \longrightarrow X \times X\\
  (x,g) & \longrightarrow (x, xg)
\end{align}
Thus $X$ and $G$ are isomorphic as sets or manifolds depending on the context. We present some insightful examples of a torsor:

\begin{example}~
\begin{itemize}
  \item A group $G$ is a torsor itself using group multiplication as action on itself.

  \item Take an affine space, thus a set $A$ together with a vector space $\vec{A}$ with a free and transitive action of $\vec{A}$ on $A$. An affine space $A$ underlying a vector space $\vec{A}$ is a torsor for $\vec{A}$ acting as the additive group of translations.

  \item A principal bundle $P \overset{\pi}{\longrightarrow} \{x\}$ over a single point as base space trivialy defines a torsor.
\end{itemize}
\end{example}

resource: Wiki principal homogeneous space.

\subsection{(Co-)chain Complexes}

In this subsection, we will completely change topic and turn towards the notion of \emph{chain complexes} and \emph{cochain complexes} and thus \emph{homology} and \emph{cohomology}. We start by giving the definition of a (co-)chain complex:

\begin{definition}
  A \textbf{Chain complex} is a sequence of homomorphisms of abelian groups denoted as
  \begin{equation}... \lra C_{n+1} \overset{\partial_{n+1}}{\lra} C_{n} \overset{\partial_{n}}{\lra} C_{n-1} \lra ... \overset{\partial_{1}}{\lra} C_{0} \overset{\partial_{0}}{\lra} 0\end{equation}
  such that $\partial_n \circ \partial_{n+1} = 0$ for all $n \in \NN$. In other words: $\im \partial_{n+1} \subseteq \ker \partial_n$
\end{definition}

\begin{definition}
  We call elements of $C_n$ that lie in $\ker \partial_n$ \textbf{cycles} and denote the set of cycles by $\mathcal{Z}_n$. We call elements of $C_n$ that lie in the image of $\partial_{n+1}$ \textbf{boundaries} and denote their set by $\mathcal{B}_n$.
\end{definition}

We now use the cycles and boundaries to define homology groups as quotient groups:

\begin{definition}
\label{def:Homology}
(Homology groups)\\
  Let $(C_\bullet, \partial_\bullet)$ be a chain complex. We define its \textbf{n-th homology group} to be the quotient group
  \begin{equation}\mathcal{H}_n := \ker\partial_n / \im \partial_{n+1} = \mathcal{Z}_n / \mathcal{B}_n \end{equation}
  The equivalence classes that form $\mathcal{H}_n$ (thus cosets of $\mathcal{Z}_n$) are called \textbf{homology classes}.
\end{definition}

Like for any introduced category, we are interested in the morphisms between them:

\begin{definition}
\label{def:chain_map}
(Chain maps)\\
  A \textbf{chain map} between two chain complexes $(C_{1\bullet}, \partial_{1\bullet})$ and $(C_{2\bullet}, \partial_{2\bullet})$ is a sequence of homomorphisms $f_n: C_{1n} \lra C_{2n}$ such that
  \begin{equation}\partial_{2n} \circ f_n = f_{n-1} \circ \partial_{1n} \end{equation}
\end{definition}

We can pictorially denote a chain map in the following commuting diagram which of course only represents an excerpt of the full commuting diagram spanned using the chain map:

\begin{center}
\begin{tikzcd}[cells={nodes={minimum height=2em}}]
  ...\arrow[r] & C_{1\ n+1} \arrow[r,"\partial_{1 n+1}"] \arrow[d, "f_{n+1}"] &  C_{1\ n} \arrow[r,"\partial_{1n}"] \arrow[d,"f_n"] &  C_{1\ n-1} \arrow[r]\arrow[d,"f_{n-1}"] & ...\\
  ... \arrow[r] & C_{2\ n+1} \arrow[r,"\partial_{2n+1}"] & C_{2\ n} \arrow[r, "\partial_{2n}"] & C_{2\ n-1} \arrow[r] & ...
\end{tikzcd}
\end{center}


We use the above diagram to arrive at an interesting intuitive lemma connecting the homology groups of two chain complexes:

\begin{lem}
  Let $f_\bullet :(C_{1\bullet}, \partial_{1\bullet}) \lra (C_{2\bullet}, \partial_{2\bullet})$ be a chain map. Then $f_\bullet$ induces an homomorphism of homology groups
  \begin{equation}
    \mathcal{H}_n (f_\bullet): \mathcal{H}_n(C_{1\bullet}) \lra \mathcal{H}_N (C_{2\bullet})
  \end{equation}
  for each $n \in \NN$, defined by
  \begin{equation}
    [\mathcal{Z}_n] \lra [f_n(\mathcal{Z}_n)]
  \end{equation}
\begin{proof}
  Our main goal is to show that $f_\bullet$ maps cycles to cycles and boundaries to boundaries. This is equivalent to showing that it is a homomorphism of homology groups.\\

  We begin by fixing $n\in \NN$. Note that $f_n(\mathcal{Z}_n(C_{1\bullet})) \subseteq \mathcal{Z}_n(C_{2\bullet}) $ and let $z_n \in \mathcal{Z}_n(C_{1\bullet})$ which means $\partial_{1n}z_n = 0$. Now we calculate
  \begin{equation}
    \partial_{2n}(f_n(z_n)) = f_{n-1}(\partial_{1n}(z_n)) = 0
  \end{equation}
  which shows that $f_\bullet$ maps cycles to cycles. For boundaries, we note $f_n(\mathcal{B}_n)(C_{1\bullet}) \subseteq \mathcal{B}_n(C_{2\bullet})$. Now choose $b\in \mathcal{B}_n(C_{1\bullet})$ i.e. $b = \partial_{1 \ n+1}(a)$ for some $a \in C_{1 \ n+1}$. Now we calculate
  \begin{align}
    f_n(b) &= f_n(\partial_{1 \ n+1}(a)) = \partial_{2 \ n+1}(f_{n+1}(a))\\
    &\Rightarrow f_n(b) \in \im \partial_{2 \ n+1}
  \end{align}
  Thus $f_n$ is constant on equivalence classes. Let now $[z^1_n]$ be an equivalence class and let $x^1, x^2$ be two representatives. Thus
  \begin{equation}
    x^1, x^2 \in \mathcal{Z}_n \quad \quad and \quad \quad x^1-x^2 = b  \in \mathcal{B}_n
  \end{equation}
  Which proves that the equivalence class of $f_n(x^1)$ is the same as that of $f_n(x^2)$.
\end{proof}
\end{lem}

%TODO Projection maps and diagrams (use remark)

We go on by classifying chain maps which will prove useful later in the course.

\begin{definition}
  A chain map $f_\bullet : C_{1\bullet} \lra C_{2\bullet}$ is called a \textbf{quasi-isomorphism} if $\mathcal{H}_n(f_\bullet)$ is an isomorphism for all $n \in \NN$.
\end{definition}

Note that the name "quasi-isomorphism" makes sense since the isomorphisms only identify the respective abelian groups and not the entire complex. While it gives us a tool to identify their \emph{homology groups} which will, in most cases, carry most of the important information, it does not tell us anything about the respective homomorphism sequences on the chain complexes. For some examples of chain complexes and their (quasi-)isomorphisms, which require far more work than the scope of this lecture allows, see \source{AlgebraicTopology}.

\begin{definition}
  A sequence of homomorphisms
  \begin{equation}... \lra A_{n+1} \overset{\alpha_{n+1}}{\lra} A_{n} \overset{\alpha_{n}}{\lra} A_{n-1} \lra ... \end{equation}
  is said to be an \textbf{exact sequence} if $ \ker \alpha_n = \im \alpha_{n+1} \quad \forall n \in \NN $. An exact sequence of the form
  \begin{equation}0 \lra A \overset{i}{\lra} B \overset{j}{\lra} C \lra 0 \end{equation}
  is called a \textbf{short exact sequence}. Note that for a short exact sequence $\ker(j) = \im(i)$ as well as
  \begin{align}
    \im(j) &= \ker(0) \quad \quad \Rightarrow j \ \text{is surjective}\\
    \im(0) &= \ker(i) \quad \quad \Rightarrow i \ \text{is injective}
  \end{align}
\end{definition}

We can use short exact sequences for many important proofs and definitions. Thus we provide some extra classification properties:

\begin{definition}
  A short exact sequence
  \begin{equation}0 \lra A \overset{i}{\lra} B \overset{j}{\lra} C \lra 0 \end{equation}
  is said to \textbf{split} if it satisfies one of the following equivalent properties:
  \begin{itemize}
    \item[1.] There is a homomorphism
    \begin{equation}p:B \lra A \end{equation}
    such that $p\circ i = 1_A: A\lra A$
    \item[2.] There is a homomorphism
    \begin{equation}s:C \lra B \end{equation}
    such that $j \circ s = 1_C: C\lra C$
    \item[3.] There exists an isomorphism
    \begin{equation}\psi:B \lra A\oplus C \end{equation}
    making the following diagram commute:
    \begin{center}
      \begin{tikzcd}[column sep=large]
        && B\ar[dr,"j"] \ar[dd, leftrightarrow, "\psi"] &&\\

        0 \ar[r] &A\ar[ur, "i"]\ar[dr, "i^\prime"  ']&& C \arrow[r]& 0\\

        && A \oplus C\ar[ur, "j^\prime"  '] &&
      \end{tikzcd}
    \end{center}

    where $i^\prime(a) = (a,0)$ and $j^\prime(a,c) = c$.
  \end{itemize}
\end{definition}

\begin{lem}
  The three properties above are equivalent.

\begin{proof}~
\begin{itemize}
  \item[$1\ra 3$]  We have $p:B \lra A$. Now define $\psi(b):= (p(b),j(b))$ which can be proven to be an isomorphism and makes the above diagram commute.

  \item[$2\ra 3$] We use $s,i$ and $j$: Define
  \begin{equation}\psi^{-1}(a,c) := i(a)+s(c) \end{equation}
  which is an isomorphism and makes the above diagram commute. Note that $j(i(a)) + j(s(c)) = c$.

  \item[$3\ra 1/2$] Here we use $\psi,i,j$. Define $p(b):= pr_1 \circ \psi(b)$ and $s(c):= \psi^{-1} \circ (j^\prime)^{-1}(c)$. Now note that $p \circ i = id_A$ due to
  \begin{equation}p(i(a)) = pr_1(\psi(i(a))) = pr_1(i^\prime(a)) = a \end{equation}
  We further have $j \circ s = id_C$ due to
  \begin{equation}j \circ s(c) = j(\psi^{-1}(0,c)) = j^\prime(0,c) = c \end{equation}

  \item[$2\ra 1$] The last thing we need to show uses $s,i,j$. To this end define $p(b) := i^{-1}(b - s \circ j(b))$.
\end{itemize}
\end{proof}
\end{lem}

We now move to the important concept of cochain complexes, which form the dual concept to chain complexes. We will thus encounter \emph{cohomology groups} and the like:

\begin{definition}
  A \textbf{cochain complex} is a sequence of homomorphisms of abelian groups
  \begin{equation}... \lla D^{n+1} \overset{\delta^n}{\lla} D^n \overset{\delta^{n-1}}{\lla} D^{n-1} \lla ... \end{equation}
  such that $\delta^n \circ \delta^{n-1} = 0$ for each $n\in \NN$, namely $\im (\delta^{n-1}) \subseteq \ker (\delta^n)$
\end{definition}

\begin{definition}
  Elements of $D^n$ are called \textbf{cocycles} if they lie in $\ker(\delta^n)$ and \textbf{coboundaries} if they lie in $\im(\delta^{n-1})$.
\end{definition}

As promised this allows us to define the dual concept to homology groups:

\begin{definition}
\label{def:Cohomology}
(Cohomology groups)\\
Let $(D^\bullet, \delta^\bullet)$ be a cochain complex. We define the \textbf{n-th cohomology group} to be the quotient group
\begin{equation}
  \mathcal{H}^n := \ker(\delta^n) / \im(\delta^{n-1})
\end{equation}
Elements of $\mathcal{H}^n$ (thus cosets of $\ker(\delta^n)$) are called \textbf{cohomology classes}.
\end{definition}

Now we aim to prove that cochaincomplexes are dual to chain complexes. To this end, let $G$ be a group and $(C_\bullet, \partial_\bullet)$ be a chain complex. Now define its dual
\begin{equation}
  D^{n+1} := (C_n)^* = \Hom(C_n, G)
\end{equation}
as the group of homomorphisms $C_n \lra G$. Now remember that a \textbf{dual homomorphism} is defined as follows: Take a group homomorphism $\alpha: A \lra B$. One defines the dual homomorphism (sometimes called "pullback") via
\begin{align}
  \alpha^*: \Hom(A,B) &\lra \Hom(A,G),\\
  \phi &\lmap \alpha^*(\phi) = \phi \circ \alpha
\end{align}
We apply the same concept to our chain complex $\partial_n:C_n \lra C_{n-1}$ which lets us define
\begin{equation}
  \delta^n := \partial_n^* : \Hom(C_{n-1}, G) \lra \Hom(C_n, G)
\end{equation}
These maps satisfy $\delta^n \circ \delta^{n-1} = 0$ due to the corresponding equation for $\partial_n$. There exists a theorem, found in \source{AlgebraicTopology}, stating that the cohomology groups of $C_\bullet$ under $G$ denoted by $\mathcal{H}^n(C;G)$ are fully determined by $G$ and the homology groups $\mathcal{H}_n(C_\bullet)$.

\begin{rem}
  Cochain maps and all of the other notions defined for chain complexes carry over to cochains. For example the analogous equation for cochain maps is
  \begin{equation}
    f^n \circ \delta_1^{n-1} = \delta_2^{n-1} \circ f^{n-1}
  \end{equation}
  for maps $f^n: D_1^n \lra D^n_2$. As an exercise, you can transport all of these results to the cochains.
\end{rem}

We conclude this subchapter by bringing the notion of substructures to (co-)chain complexes.

\begin{definition}
  A \textbf{subcomplex} $C_\bullet^\prime$ of a chain complex $(C_\bullet, \partial_\bullet)$ is a sequence of subgroups $C_n^\prime$ of $C_n$ for all $n\in \NN$ such that $\partial_n(C^\prime_n) \subseteq C_{n-1}^\prime$ for all $n\in \NN$.
\end{definition}

\begin{rem}
  A subcomplex is a chain complex itself. The inclusion map acts as a chain complex map.
\end{rem}



\newpage
